<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Magazinemapper">
	
	<select id = "getListCount" resultType="_int">
		select count(*)
		from MBOARD
		where status = 'Y'
	</select>


	<select id = "selectList" resultMap="MagazineResultSet">
		select *
		from MBOARD
		where status = 'Y'
	</select>
	
	<resultMap type="MagazineBoard" id="MagazineResultSet">
	
	<result column="MTITLE" property="mtitle"/>
	<result column="MCONTENT" property="mcontent"/>
	<result column="CREATE_DATE " property="createdate"/>
	<result column="STATUS" property="status"/>
	<result column="MCOUNT" property="mcount"/>
	<result column="MPICTURE" property="mpicture"/>
	<result column="MSEQ" property="mseq"/>
	
	</resultMap>
	
	<select id="selectBoard" resultMap="MagazineResultSet">
	    select *
	    from MBOARD
        where mseq = #{mseq}
        and status = 'Y'
	
	</select>
	
	<select id="addmReadCount" parameterType="_int">
	    update MBOARD
		set mcount = mcount +1
		where mseq = #{mseq}
	
	</select>
	
<!--  MTITLE VARCHAR2(100), 
	  MCONTENT VARCHAR2(4000), 
	  CREATE_DATE DATE,
	  STATUS VARCHAR2(1) DEFAULT 'Y' CHECK (STATUS IN('Y', 'N')),
	  MCOUNT NUMBER DEFAULT 0,
	  MPICTURE VARCHAR2(100)*/
	
	private String mtitle;		//제목
	private String mcontent;	//내용
	private Date createdate;	//작성일
	private String status;		//상태
	private int mcount;			//조회수
	private String mpicture; 	//사진
	private int mseq;			//게시물 번호(시퀀스)
 -->


</mapper>